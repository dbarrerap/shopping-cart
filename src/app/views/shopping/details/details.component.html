<div class="container">
    <div *ngIf="loading; else productView">
        <div class="d-flex justify-content-center">
            <div class="spinner-border" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
        </div>
    </div>
    <ng-template #productView>
        <div class="row">
            <div class="col-12 col-md-8 text-center">
                <c-carousel [dark]="true" [interval]="2750" transition="crossfade">
                    <c-carousel-indicators></c-carousel-indicators>
                    <c-carousel-inner>
                        <c-carousel-item *ngFor="let foto of producto.fotos">
                            <div class="d-flex justify-content-center w-100 my-3">
                                <img [src]="foto.recurso" alt="{{ producto.nombre }}" class="d-block w-50" loading="lazy">
                            </div>
                        </c-carousel-item>
                    </c-carousel-inner>
                    <c-carousel-control [routerLink] caption="Previous" direction="prev"></c-carousel-control>
                    <c-carousel-control [routerLink] caption="Next" direction="next"></c-carousel-control>
                </c-carousel>
            </div>
            <div class="col-12 col-md-4">
                <div class="box-detail">
                    <div class="box-detail_one">
                        <div class="card-detail_one">
                            <h2 class="card-title roboto-medium">{{ producto.nombre }}</h2>
                            <div class="card-code">
                                <div class="card-code_item">Cod. Interno: {{ producto.codigo }}</div>
                                <div class="card-code_item">Cod. Original: {{ producto.codigo }}</div>
                            </div>
                        </div>
                        <div class="card-detail_two">
                            <div class="card-aplic">Aplicacion: Sunt Autem Illum</div>
                            <div class="card-brand roboto-medium">Marca: Voluptatem</div>
                        </div>
                        <div>
                            <h3 class="card-price card-price_discount roboto-medium">{{ producto.precio_oferta |
                                currency }}</h3>
                            <div class="flex-price">
                                <h3 class="card-price_normal roboto-medium">{{ producto.precio | currency }}</h3>
                                <span class="card-price_percentage roboto-medium">-{{ producto.descuento }}%</span>
                            </div>
                            <small>No incluye IVA</small>
                        </div>
                    </div>
                    <div class="box-detail_two">
                        <div class="box-detail_two-item">
                            <h3 class="title-detail_item">Condici&oacute;n</h3>
                            <form cForm>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="flexRadioCondicion"
                                        id="flexRadioDefault1">
                                    <label class="form-check-label form-check-label_detail"
                                        for="flexRadioDefault1">Nuevo (+$2.00)</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="flexRadioCondicion"
                                        id="flexRadioDefault2" checked>
                                    <label class="form-check-label form-check-label_detail"
                                        for="flexRadioDefault2">Segunda mano</label>
                                </div>
                            </form>
                        </div>
                        <div class="box-detail_two-item">
                            <h3 class="title-detail_item">Di&aacute;metro</h3>
                            <form cForm>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="flexRadioDiametro"
                                        id="flexRadioDefault1">
                                    <label class="form-check-label form-check-label_detail"
                                        for="flexRadioDefault1">Nuevo (+$2.00)</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="flexRadioDiametro"
                                        id="flexRadioDefault2" checked>
                                    <label class="form-check-label form-check-label_detail"
                                        for="flexRadioDefault2">Segunda mano</label>
                                </div>
                            </form>
                        </div>
                        <div class="box-detail_two-item">
                            <h3 class="title-detail_item">Equipamiento</h3>
                            <select class="form-select">
                                <option [value]="opcion.value" class="form-select_detail"
                                    *ngFor="let opcion of lst_equipamiento">{{ opcion.label }}</option>
                            </select>
                        </div>
                    </div>
                    <div class="box-detail_three">
                        <div class="card-footer">
                            <span class="box-stock">Stock: {{ producto.stock | number }}</span>
                            <div class="card-footer_actions">
                                <div class="box-counter">
                                    <app-rounded-button styleClass="mx-1" (click)="decrement(1)">
                                        <i class="fa fa-minus fa-lg"></i>
                                    </app-rounded-button>
                                    <input type="text"
                                        class="form-control form-control-sm box-counter_input text-center"
                                        [id]="producto.codigo" [(ngModel)]="cantidad">
                                    <app-rounded-button styleClass="mx-1" (click)="increment(1)">
                                        <i class="fa fa-plus fa-lg"></i>
                                    </app-rounded-button>
                                </div>
                                <button class="btn-one roboto-medium btn-one_cart">
                                    A&ntilde;adir al carrito
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <c-accordion [flush]="true" class="accordion_k-detail">
                    <c-accordion-item #itemDes="cAccordionItem" [visible]="false" class="accordion-item_k">
                        <ng-template cTemplateId="accordionHeaderTemplate">
                            <div class="accordion-header_k">
                                <button (click)="itemDes.toggleItem()" [collapsed]="!itemDes.visible" cAccordionButton
                                    class="accordion-button_k roboto-bold">
                                    DESCRIPCI&oacute;N GENERAL
                                </button>
                            </div>
                        </ng-template>
                        <ng-template cTemplateId="accordionBodyTemplate">
                            <div class="accordion-body">
                                <p>{{ producto.descripcion }}</p>
                                <p>Nostrum sit deleniti facilis fugit vitae incidunt molestias. Molestiae non reiciendis
                                    odio enim. Iure qui illo optio eius dolorem aut. Autem dolorum qui iusto.</p>
                            </div>
                        </ng-template>
                    </c-accordion-item>
                    <c-accordion-item #itemEsp="cAccordionItem" [visible]="false" class="accordion-item_k">
                        <ng-template cTemplateId="accordionHeaderTemplate">
                            <div class="accordion-header_k">
                                <button (click)="itemEsp.toggleItem()" [collapsed]="!itemEsp.visible" cAccordionButton
                                    class="accordion-button_k roboto-bold">
                                    ESPECIFICACIONES
                                </button>
                            </div>
                        </ng-template>
                        <ng-template cTemplateId="accordionBodyTemplate">
                            <div class="accordion-body">
                                Nostrum sit deleniti facilis fugit vitae incidunt molestias. Molestiae non reiciendis
                                odio enim. Iure qui illo optio eius dolorem aut. Autem dolorum qui iusto.
                            </div>
                        </ng-template>
                    </c-accordion-item>
                    <c-accordion-item #itemCar="cAccordionItem" [visible]="false" class="accordion-item_k">
                        <ng-template cTemplateId="accordionHeaderTemplate">
                            <div class="accordion-header_k">
                                <button (click)="itemCar.toggleItem()" [collapsed]="!itemCar.visible" cAccordionButton
                                    class="accordion-button_k roboto-bold">
                                    CARACTERISTICAS
                                </button>
                            </div>
                        </ng-template>
                        <ng-template cTemplateId="accordionBodyTemplate">
                            <div class="accordion-body">
                                Nostrum sit deleniti facilis fugit vitae incidunt molestias. Molestiae non reiciendis
                                odio enim. Iure qui illo optio eius dolorem aut. Autem dolorum qui iusto.
                            </div>
                        </ng-template>
                    </c-accordion-item>
                </c-accordion>
            </div>
        </div>
    </ng-template>
</div>